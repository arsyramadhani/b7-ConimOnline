
@{
    ViewBag.Title = "Outstanding";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
 

<div class="card card-body border-0 shadow table-wrapper table-responsive">
    @*<div class="mt-4"></div>*@
    <table id="tblConim" class="table table-hover table-sm">
        <thead>
            <tr>
                <th class="border-gray-200">No</th>
                <th class="border-gray-200">ID</th>
                <th class="border-gray-200">Nama</th>
                <th class="border-gray-200">Departemen</th>
                <th class="border-gray-200">Site</th>
                <th class="border-gray-200">Kategori</th>
                <th class="border-gray-200">Judul</th>
                <th class="border-gray-200">Status</th>
                <th class="border-gray-200">Outstanding</th>
                <th class="border-gray-200">Tanggal Outstanding</th>
                <th class="border-gray-200">Action</th>
            </tr>
        </thead>
        <tbody>
            @*<tr>
                    <td><a href="#" class="fw-bold">456468</a></td>
                    <td><span class="fw-normal">Gold Subscription Plan</span></td>
                    <td><span class="fw-normal">1 Sep 2019</span></td>
                    <td><span class="fw-normal">1 Oct 2019</span></td>
                    <td><span class="fw-bold">$533,42</span></td>
                    <td><span class="fw-bold text-success">Paid</span></td>
                    <td>
                        <div class="btn-group">
                            <button class="btn btn-link text-dark dropdown-toggle dropdown-toggle-split m-0 p-0"
                                    data-bs-toggle="dropdown"
                                    aria-haspopup="true"
                                    aria-expanded="false">
                                <span class="icon icon-sm">
                                    <span class="fas fa-ellipsis-h icon-dark"></span>
                                </span><span class="visually-hidden">Toggle Dropdown</span>
                            </button>
                            <div class="dropdown-menu py-0">
                                <a class="dropdown-item rounded-top" href="#">
                                    <span class="fas fa-eye me-2"></span>View
                                    Details
                                </a>
                                <a class="dropdown-item" href="#"><span class="fas fa-edit me-2"></span>Edit</a>
                                <a class="dropdown-item text-danger rounded-bottom"
                                   href="#">
                                    <span class="fas fa-trash-alt me-2"></span>Remove
                                </a>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td><a href="#" class="fw-bold">456478</a></td>
                    <td>
                        <span class="fw-normal">Flexible Subscription Plan</span>
                    </td>
                    <td><span class="fw-normal">1 Aug 2019</span></td>
                    <td><span class="fw-normal">1 Sep 2019</span></td>
                    <td><span class="fw-bold">$233,42</span></td>
                    <td><span class="fw-bold text-success">Paid</span></td>
                    <td>
                        <div class="btn-group">
                            <button class="btn btn-link text-dark dropdown-toggle dropdown-toggle-split m-0 p-0"
                                    data-bs-toggle="dropdown"
                                    aria-haspopup="true"
                                    aria-expanded="false">
                                <span class="icon icon-sm">
                                    <span class="fas fa-ellipsis-h icon-dark"></span>
                                </span><span class="visually-hidden">Toggle Dropdown</span>
                            </button>
                            <div class="dropdown-menu py-0">
                                <a class="dropdown-item rounded-top" href="#">
                                    <span class="fas fa-eye me-2"></span>View
                                    Details
                                </a>
                                <a class="dropdown-item" href="#"><span class="fas fa-edit me-2"></span>Edit</a>
                                <a class="dropdown-item text-danger rounded-bottom"
                                   href="#">
                                    <span class="fas fa-trash-alt me-2"></span>Remove
                                </a>
                            </div>
                        </div>
                    </td>
                </tr>*@
        </tbody>
    </table>
    <div class="card-footer px-3 border-0 d-flex flex-column flex-lg-row align-items-center justify-content-between">

    </div>
</div>


@section scripts{
    <script type="text/javascript">
        $(document).ready(function () {
            const table = $('#tblConim').DataTable({
                searching: false,
                pageLength: 100,
                "bSort": false,
                "dom": 'rtip',
                "ajax": {
                    url: '/api/conim',
                    //dataType: "json",
                    type: "POST",
                    data: {
                        Option: "GET_OUTSTANDING"
                    }, 
                    cache: true,
                    "dataSrc": function (json) {
                        console.log(json);
                        return json;
                    },
                },
                columns: [
                    {
                        data: null,
                        render: function (data, type, full, meta) {
                            return meta.row + 1;
                        }
                    },
                    { data: "CNM_Number" },
                    { data: "CNM_NAMA" },
                    { data: "CNM_Departemen" },
                    { data: "CNM_Location", width: "20px" },
                    { data: "CNM_Type" },
                    { data: "CNM_Tema" },
                    { data: "CNM_Status" },
                    { data: "CNM_Outstanding" },
                    { data: "CNM_EntryDate" },
                    {
                        data: "CNM_Number",
                        render: function (data, type, row) {
                            return `<a href="/laporan/details?id=${data}" class='btn btn-xs btn-primary'>Select</a>`;
                        }
                    },
                ],
                "columnDefs": [
                    { width: 200, targets: 0 }
                ],
            })
             
        });
    </script>    
}